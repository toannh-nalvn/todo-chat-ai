<!--
Sync Impact Report:
- Version change: 1.5.0 → 1.6.0
- Modified principles: None
- Added sections:
  - Automation & Git Hooks Principles
- Removed sections: None
- Templates requiring updates:
  - ✅ .specify/templates/plan-template.md
  - ✅ .specify/templates/spec-template.md
  - ✅ .specify/templates/tasks-template.md
- Follow-up TODOs: None
-->
# todo-chat-ai Constitution

## Core Principles

### I. Component Origin
All base UI components (such as Button, Input, Card, Dialog...) must be initialized and added to the project via the shadcn/ui CLI. This serves as the "single source of truth" for the design system.

### II. Customization and Extension
When customization is needed, prioritize modifying the component files directly within your components/ui directory, which were generated by shadcn/ui. This is encouraged to adapt components to the project's specific needs.

### III. Visual Consistency
Any new custom components not available in shadcn/ui must use the CSS variables and utilities from Tailwind CSS (as configured by shadcn/ui) to ensure consistency in colors, typography, and spacing.

### IV. Avoiding Fragmentation
Avoid installing third-party UI component libraries (e.g., Material-UI, Ant Design...) to solve problems that shadcn/ui can already address.

## Environment & Tooling Principles
### I. Package Manager
pnpm is designated as the sole package manager for this project. All dependency-related activities (installing, updating, removing) must be performed via pnpm.

### II. Lock File
The pnpm-lock.yaml file must always be committed to the version control system (e.g., Git) to ensure consistent dependency installation across all environments.

### III. Script Execution
Always use pnpm to execute scripts defined in package.json (e.g., pnpm dev, pnpm build, pnpm test).

### IV. Adding Components
When adding new components from shadcn/ui, the pnpm syntax must be used (e.g., pnpm dlx shadcn-ui@latest add [component-name]).

## Code Formatting Principles
### I. Sole Tool
Prettier is designated as the sole automatic code formatter for the entire project.

### II. Shared Configuration
The project must have a shared Prettier configuration file (e.g., .prettierrc or in package.json) committed to the repository. All members must adhere to this configuration.

### III. ESLint Integration
The Prettier configuration must be integrated with ESLint (via eslint-config-prettier) to disable all ESLint rules related to formatting, delegating this task entirely to Prettier and avoiding conflicts.

### IV. Integrity
All code files (e.g., .js, .ts, .tsx, .css, .md) committed to the repository must be formatted by Prettier.

## Code Linting Principles
### I. Primary Tool
ESLint is designated as the primary static linting tool for JavaScript/TypeScript code.

### II. Shared Configuration
The project must have an ESLint configuration file (e.g., .eslintrc.js or .eslintrc.json) committed to the repository, defining the agreed-upon rulesets (e.g., eslint:recommended, plugin:react/recommended, plugin:@typescript-eslint/recommended).

### III. Zero-Error Policy
Code must not be merged into the main branch (main/master) if any ESLint errors are present. Warnings should be reviewed and addressed as soon as possible.

### IV. Restricted Disabling
Avoid using rule-disabling comments (like eslint-disable). If absolutely necessary, it must be accompanied by a comment immediately below it, providing a clear technical justification for why the rule is being disabled at that specific line.

## Automation & Git Hooks Principles
### I. Git Hook Management
The project must use Husky to manage Git hooks, ensuring that verification processes are executed automatically.

### II. Pre-commit Checks
The project must use lint-staged to automatically run Prettier (for formatting) and ESLint (for linting) on staged files before a commit is made.

### III. Blocking Faulty Commits
A commit will be rejected if the code fails either the Prettier formatting step or the ESLint (Error) linting step. This ensures that the code in the repository remains clean.

## Governance

All PRs/reviews must verify compliance with this constitution. Complexity must be justified.

**Version**: 1.6.0 | **Ratified**: 2025-10-28 | **Last Amended**: 2025-10-28